import{c as f,r as i,j as e,L as v,Q as L,O as S,t as z,N as _,S as O,G as k,P,p as F,U as I}from"./main-8XSaGCev.js";import{C as M,l as j,I as R}from"./libraryService-Dx882YX6.js";import{D}from"./download-3fwlxz10.js";import{F as g}from"./file-text-BD7SoHv3.js";import{M as E}from"./map-pin-CZ08nAR7.js";import{G as w}from"./graduation-cap-DSvOFnCY.js";import{L as V}from"./layers-DQCaTi7U.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$=f("eye",B);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],N=f("newspaper",G);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],y=f("scroll",H),q=({publication:t,onView:c,onDownload:p})=>{const[d,n]=i.useState(!1),x=()=>{switch(t.type){case"BOOK":return e.jsx(S,{className:"text-blue-500"});case"ARTICLE":return e.jsx(g,{className:"text-emerald-500"});case"JOURNAL":return e.jsx(N,{className:"text-amber-500"});case"THESIS":case"TFC":case"MONOGRAPH":return e.jsx(w,{className:"text-purple-500"});case"MANUAL":return e.jsx(y,{className:"text-orange-500"});case"AFRICAN_CONTEXT":return e.jsx(E,{className:"text-red-500"});default:return e.jsx(g,{className:"text-slate-500"})}},o=()=>{switch(t.type){case"BOOK":return"Livro";case"ARTICLE":return"Artigo";case"JOURNAL":return"Revista";case"THESIS":return"Tese";case"TFC":return"TFC";case"MONOGRAPH":return"Monografia";case"MANUAL":return"Manual";case"AFRICAN_CONTEXT":return"Contexto Africano";default:return"Publicação"}},u=()=>{var b;const h=`${t.authors.map(m=>m.name).join(", ")} (${t.year}). ${t.title}. ${((b=t.institution)==null?void 0:b.name)||""}. DOI: ${t.doi_internal}`;navigator.clipboard.writeText(h),z.success("Citação APA copiada para a área de transferência!")},s=async r=>{r.stopPropagation(),n(!0);try{await p(t)}finally{n(!1)}};return e.jsxs("div",{onClick:()=>c(t),className:"bg-white dark:bg-slate-900 rounded-[32px] border border-slate-100 dark:border-slate-800 p-6 flex flex-col h-full shadow-sm hover:shadow-2xl transition-all duration-500 group cursor-pointer relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-2xl group-hover:scale-110 transition-all duration-500",children:x()}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest px-3 py-1 bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 rounded-full border border-slate-200/50 dark:border-slate-700/50",children:o()}),t.is_verified&&e.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black uppercase tracking-widest px-2.5 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 rounded-full border border-emerald-100 dark:border-emerald-900/30",children:[e.jsx(M,{size:10})," Verificado"]})]})]}),e.jsx("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-2 leading-tight group-hover:text-brand-blue transition-colors line-clamp-2",children:t.title}),e.jsxs("p",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4",children:[t.authors.map(r=>r.name).join(", ")," • ",t.year]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6 flex-grow leading-relaxed line-clamp-3 font-serif italic",children:t.abstract}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 py-4 border-y border-slate-50 dark:border-slate-800",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter",children:"Visualizações"}),e.jsx("span",{className:"text-xs font-black text-slate-700 dark:text-slate-300",children:t.views_count})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter",children:"Downloads"}),e.jsx("span",{className:"text-xs font-black text-slate-700 dark:text-slate-300",children:t.downloads_count})]})]}),e.jsxs("div",{className:"flex gap-2 mt-auto",children:[e.jsxs("button",{onClick:r=>{r.stopPropagation(),c(t)},className:"flex-1 flex items-center justify-center gap-2 py-3 bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-100 dark:hover:bg-slate-700 transition-all border border-slate-200/50 dark:border-slate-700/50",children:[e.jsx($,{size:14})," Ver"]}),e.jsxs("button",{onClick:s,disabled:d,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-brand-blue text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-brand-dark transition-all shadow-lg shadow-blue-500/10 active:scale-95 disabled:opacity-50",children:[d?e.jsx(v,{size:14,className:"animate-spin"}):e.jsx(D,{size:14}),"Baixar"]}),e.jsx("button",{onClick:r=>{r.stopPropagation(),u()},className:"p-3 bg-white dark:bg-slate-900 text-slate-400 hover:text-brand-blue rounded-2xl border border-slate-100 dark:border-slate-800 transition-all hover:border-brand-blue/30",title:"Citar (APA)",children:e.jsx(L,{size:14})})]})]})},Z=()=>{const[t,c]=i.useState([]),[p,d]=i.useState(!0),[n,x]=i.useState(""),[o,u]=i.useState("ALL"),[s,r]=i.useState({year:"",country:"",language:"",is_verified:""}),h=_(),b=[{id:"ALL",label:"Tudo",icon:e.jsx(V,{size:14})},{id:"BOOK",label:"Livros",icon:e.jsx(F,{size:14})},{id:"ARTICLE",label:"Artigos",icon:e.jsx(g,{size:14})},{id:"JOURNAL",label:"Revistas",icon:e.jsx(N,{size:14})},{id:"THESIS",label:"Teses",icon:e.jsx(w,{size:14})},{id:"TFC",label:"TFC",icon:e.jsx(y,{size:14})},{id:"AFRICAN_CONTEXT",label:"Contexto Africano",icon:e.jsx(I,{size:14})}];i.useEffect(()=>{m()},[o,s]);const m=async()=>{d(!0);try{const a={};o!=="ALL"&&(a.type=o),s.year&&(a.year=s.year),s.country&&(a.country=s.country),s.language&&(a.language=s.language),s.is_verified&&(a.is_verified=s.is_verified==="true"),n&&(a.search=n);const l=await j.getPublications(a);c(Array.isArray(l)?l:l.results||[])}catch(a){console.error("Error fetching publications:",a)}finally{d(!1)}},A=a=>{a.preventDefault(),m()},C=a=>{h(`/biblioteca/${a.slug}`)},T=async a=>{try{const{download_url:l}=await j.recordDownload(a.slug);window.open(l,"_blank")}catch(l){console.error("Download error:",l)}};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 dark:bg-slate-950 pb-24 transition-colors duration-300",children:[e.jsx("style",{children:`
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `}),e.jsxs("section",{className:"bg-brand-blue pt-24 pb-32 md:pb-40 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),e.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-blue-400/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 bg-indigo-400/20 rounded-full blur-3xl"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-full border border-white/20 text-white text-[10px] md:text-xs font-black uppercase tracking-widest mb-8 animate-in fade-in slide-in-from-top-4 duration-700",children:[e.jsx(O,{className:"w-4 h-4 text-amber-300"}),e.jsx("span",{children:"Biblioteca Digital Académica Africana"})]}),e.jsxs("h1",{className:"text-4xl md:text-7xl font-black text-white mb-6 tracking-tighter animate-in fade-in slide-in-from-top-6 duration-1000",children:["Sussurros do ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-200 to-amber-400 italic",children:"Saber"})]}),e.jsx("p",{className:"text-blue-100/80 text-lg md:text-xl font-medium max-w-2xl mx-auto mb-12 font-serif leading-relaxed animate-in fade-in slide-in-from-top-8 duration-1000",children:"Repositório de conhecimento africano: Livros, revistas, teses e monografias contextualizadas à nossa realidade."}),e.jsxs("form",{onSubmit:A,className:"max-w-3xl mx-auto relative group animate-in fade-in zoom-in duration-1000 delay-300",children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 blur-xl rounded-full scale-95 group-focus-within:scale-105 transition-transform duration-500"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-brand-blue transition-colors",size:24}),e.jsx("input",{type:"text",placeholder:"Pesquisar por título, autor ou DOI...",value:n,onChange:a=>x(a.target.value),className:"w-full pl-16 pr-32 py-5 md:py-6 bg-white dark:bg-slate-900 border-none rounded-full outline-none text-slate-900 dark:text-white transition-all text-lg shadow-2xl focus:ring-4 focus:ring-amber-400/20"}),e.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 px-6 md:px-8 py-3 bg-brand-blue text-white rounded-full font-black text-xs uppercase tracking-widest hover:bg-brand-dark transition-all shadow-lg active:scale-95",children:"Pesquisar"})]})]})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 -mt-16 relative z-20",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"hidden lg:block w-72 shrink-0",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[32px] p-8 shadow-xl border border-slate-100 dark:border-slate-800 sticky top-32",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white uppercase tracking-tight flex items-center gap-2",children:[e.jsx(P,{size:18,className:"text-brand-blue"})," Filtros"]}),e.jsx("button",{onClick:()=>r({year:"",country:"",language:"",is_verified:""}),className:"text-[10px] font-black text-brand-blue uppercase tracking-widest hover:underline",children:"Limpar"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Ano de Publicação"}),e.jsxs("select",{value:s.year,onChange:a=>r(l=>({...l,year:a.target.value})),title:"Filtrar por ano de publicação",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border-none rounded-xl outline-none text-sm font-bold text-slate-700 dark:text-slate-200",children:[e.jsx("option",{value:"",children:"Todos os anos"}),[2025,2024,2023,2022,2021,2020].map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"País de Origem"}),e.jsxs("select",{value:s.country,onChange:a=>r(l=>({...l,country:a.target.value})),title:"Filtrar por país de origem",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border-none rounded-xl outline-none text-sm font-bold text-slate-700 dark:text-slate-200",children:[e.jsx("option",{value:"",children:"Todos os países"}),e.jsx("option",{value:"Angola",children:"Angola"}),e.jsx("option",{value:"Moçambique",children:"Moçambique"}),e.jsx("option",{value:"Cabo Verde",children:"Cabo Verde"}),e.jsx("option",{value:"Guiné-Bissau",children:"Guiné-Bissau"}),e.jsx("option",{value:"São Tomé e Príncipe",children:"São Tomé e Príncipe"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-emerald-50/50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100/50 dark:border-emerald-900/20",children:[e.jsx("input",{type:"checkbox",id:"verified",checked:s.is_verified==="true",onChange:a=>r(l=>({...l,is_verified:a.target.checked?"true":""})),className:"w-5 h-5 rounded-md text-emerald-500 bg-white border-emerald-200 focus:ring-emerald-500"}),e.jsx("label",{htmlFor:"verified",className:"text-xs font-black text-emerald-800 dark:text-emerald-400 uppercase tracking-tight cursor-pointer",children:"Apenas Verificados"})]})]}),e.jsxs("div",{className:"mt-12 p-6 bg-blue-50 dark:bg-blue-900/10 rounded-[24px] border border-blue-100 dark:border-blue-900/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(R,{size:16,className:"text-brand-blue"}),e.jsx("span",{className:"text-[10px] font-black text-brand-blue uppercase tracking-widest",children:"Ajuda"})]}),e.jsxs("p",{className:"text-[11px] text-slate-500 dark:text-slate-400 leading-relaxed font-serif",children:["Não encontra o que procura? ",e.jsx("br",{}),e.jsx("a",{href:"/#/contact",className:"text-brand-blue font-bold hover:underline",children:"Solicite um recurso"})," à nossa equipa editorial."]})]})]})}),e.jsxs("main",{className:"flex-grow",children:[e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-[32px] p-2 mb-8 shadow-lg border border-slate-100 dark:border-slate-800 flex items-center gap-1 overflow-x-auto hide-scrollbar",children:b.map(a=>e.jsxs("button",{onClick:()=>u(a.id),className:`px-5 py-3.5 rounded-[24px] font-black text-[10px] uppercase tracking-widest transition-all flex items-center gap-2 shrink-0 ${o===a.id?"bg-brand-blue text-white shadow-xl shadow-blue-500/20 active:scale-95":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[a.icon,a.label]},a.id))}),p?e.jsxs("div",{className:"flex flex-col items-center justify-center py-32 space-y-4",children:[e.jsx(v,{className:"w-12 h-12 text-brand-blue animate-spin"}),e.jsx("p",{className:"text-slate-400 font-black text-xs uppercase tracking-widest animate-pulse",children:"A carregar biblioteca..."})]}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in fade-in slide-in-from-bottom-8 duration-700",children:t.map(a=>e.jsx(q,{publication:a,onView:C,onDownload:T},a.id))}):e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[40px] p-20 text-center border border-dashed border-slate-200 dark:border-slate-800",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(k,{size:32,className:"text-slate-300"})}),e.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white mb-2",children:"Sem resultados"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-serif max-w-sm mx-auto mb-8",children:"Não encontramos nenhuma publicação com estes critérios. Tente limpar os filtros ou usar outros termos de pesquisa."}),e.jsx("button",{onClick:()=>{x(""),r({year:"",country:"",language:"",is_verified:""}),u("ALL")},className:"px-8 py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-2xl font-black text-xs uppercase tracking-widest hover:scale-105 transition-all",children:"Limpar tudo"})]})]})]})})]})};export{Z as default};
