import{c as v,j as e,R as _,u as Ie,a as Le,r,L as z,b as j,C as Re,S as Me,d as U,H as Be,M as ie,e as D,f as Ee,X as G,B as _e,g as ce,A as Ue,h as De,F as Ge,T as We,i as Oe,k as qe,s as h,l as de}from"./main-DEPeOymw.js";import{C as He}from"./calendar-Cduaidc-.js";import{F as Pe}from"./file-text-vrQsjXvR.js";import{C as Ve}from"./circle-alert-YPhGCotk.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ye=v("arrow-left",Xe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],xe=v("circle-plus",Je);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Qe=v("heart",Ke);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],et=v("list-todo",Ze);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],st=v("user",tt),W=n=>n.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-"),at=({term:n,definition:x,children:m})=>e.jsxs("span",{className:"group relative inline-block cursor-help border-b border-dotted border-brand-blue dark:border-blue-400",children:[e.jsx("span",{className:"text-brand-blue dark:text-blue-300 font-medium",children:m}),e.jsxs("span",{className:"invisible opacity-0 group-hover:visible group-hover:opacity-100 transition-all absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-slate-900 text-white text-xs rounded-xl shadow-xl z-50 pointer-events-none",children:[e.jsx("span",{className:"font-bold block mb-1 text-blue-200",children:n}),x,e.jsx("svg",{className:"absolute text-slate-900 h-2 w-full left-0 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255",children:e.jsx("polygon",{className:"fill-current",points:"0,0 127.5,127.5 255,0"})})]})]}),rt=({content:n,glossaryTerms:x=[]})=>{if(!n)return null;const m=b=>{if(!x||x.length===0)return s(b);let u=[b];return x.forEach(l=>{const a=[],o=new RegExp(`\\b(${l.term})\\b`,"gi");u.forEach(c=>{if(typeof c=="string"){const p=c.split(o);p.length>1?p.forEach((g,f)=>{f%2===1?a.push(e.jsx(at,{term:l.term,definition:l.definition,children:g},`${l.term}-${f}`)):a.push(g)}):a.push(c)}else a.push(c)}),u=a}),u.map((l,a)=>typeof l=="string"?e.jsx(_.Fragment,{children:s(l)},a):e.jsx(_.Fragment,{children:l},a))},s=b=>b.split(/(\*\*.*?\*\*)/g).map((l,a)=>{if(l.startsWith("**")&&l.endsWith("**")&&l.length>4)return e.jsx("strong",{className:"font-bold text-slate-900 dark:text-white",children:l.slice(2,-2)},a);const o=l.split(/(\*[^*]+?\*)/g);return e.jsx(_.Fragment,{children:o.map((c,p)=>c.startsWith("*")&&c.endsWith("*")&&c.length>2?e.jsx("em",{className:"italic text-slate-800 dark:text-slate-200",children:c.slice(1,-1)},p):c)},a)});return e.jsx("div",{className:"space-y-5 text-slate-800 dark:text-slate-200 leading-relaxed font-sans text-base md:text-lg",children:n.split(`
`).map((b,u)=>{const l=`line-${u}`,a=b.trim();if(a.startsWith("### ")){const o=a.replace("### ","");return e.jsx("h3",{id:W(o),className:"text-lg md:text-xl font-black text-slate-900 dark:text-white mt-8 mb-3 scroll-mt-32",children:s(o)},l)}if(a.startsWith("## ")){const o=a.replace("## ","");return e.jsx("h2",{id:W(o),className:"text-xl md:text-2xl font-black text-brand-blue dark:text-blue-400 mt-10 mb-5 border-b border-slate-100 dark:border-slate-800 pb-3 scroll-mt-32 uppercase tracking-tight",children:s(o)},l)}if(a.startsWith("# ")){const o=a.replace("# ","");return e.jsx("h1",{id:W(o),className:"text-2xl md:text-3xl font-black text-slate-900 dark:text-white mt-12 mb-6 scroll-mt-32 tracking-tighter",children:s(o)},l)}return a.startsWith("* ")||a.startsWith("- ")?e.jsxs("div",{className:"flex gap-3 ml-3 mb-2.5",children:[e.jsx("span",{className:"text-brand-blue dark:text-blue-400 font-black mt-0.5 text-xl",children:"•"}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-serif text-sm md:text-base",children:m(a.substring(2))})]},l):a.startsWith("> ")?e.jsx("blockquote",{className:"border-l-4 border-brand-blue dark:border-blue-500 pl-6 py-4 my-8 bg-slate-50 dark:bg-slate-900/40 italic text-slate-800 dark:text-slate-200 text-lg md:text-xl font-serif rounded-r-2xl leading-relaxed",children:m(a.replace("> ",""))},l):a===""?e.jsx("div",{className:"h-3"},l):e.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-5 font-serif leading-relaxed text-justify hyphens-auto text-sm md:text-base",children:m(a)},l)})})},dt=()=>{var oe;const{id:n}=Ie(),x=Le(),m=r.useRef(null),[s,b]=r.useState(x.state),[u,l]=r.useState([]),[a,o]=r.useState([]),[c,p]=r.useState(!x.state),[g,f]=r.useState(!1),[O,q]=r.useState(!1),F=r.useRef(null),[T,w]=r.useState(!1),[me,A]=r.useState(!1),[$,H]=r.useState(!1),[P,be]=r.useState([]),[ue,N]=r.useState(!1),[V,he]=r.useState("correction"),[I,X]=r.useState(""),[Y,J]=r.useState(""),[K,Q]=r.useState(!1),[pe,Z]=r.useState(!1),[ge,fe]=r.useState([]),[ee,te]=r.useState(!1),[L,ke]=r.useState(!1),[y,se]=r.useState(""),[R,ae]=r.useState(""),[re,le]=r.useState(!1),M=`${window.location.href.split("#")[0]}#/article/${n}`,B=s?encodeURIComponent(s.title):"",k=encodeURIComponent(M),je=[{name:"WhatsApp",icon:De,color:"bg-[#25D366]",url:`https://api.whatsapp.com/send?text=${B}%20${k}`},{name:"Facebook",icon:Ge,color:"bg-[#1877F2]",url:`https://www.facebook.com/sharer/sharer.php?u=${k}`},{name:"X (Twitter)",icon:We,color:"bg-[#000000]",url:`https://twitter.com/intent/tweet?text=${B}&url=${k}`},{name:"Telegram",icon:D,color:"bg-[#0088cc]",url:`https://t.me/share/url?url=${k}&text=${B}`},{name:"LinkedIn",icon:Oe,color:"bg-[#0A66C2]",url:`https://www.linkedin.com/sharing/share-offsite/?url=${k}`}],ve=async()=>{try{await navigator.clipboard.writeText(M),H(!0),setTimeout(()=>H(!1),2e3)}catch(t){console.error("Falha ao copiar:",t)}},ne=r.useMemo(()=>s!=null&&s.content?s.content.split(`
`).filter(t=>t.trim().startsWith("## ")).map(t=>t.replace("## ","").trim()):[],[s==null?void 0:s.content]);r.useEffect(()=>{(async()=>{if(!n)return;p(!0);const d=await h.getArticleById(n);if(d){b(d);const C=await de.getRecommendedArticles(n);l(C);const E=await h.getArticleComments(n);o(E);const Fe=await h.getArticleFootnotes(n);be(Fe);const S=h.getUserInteractions();f(S.likedArticles.includes(String(n)));const Te=S.bookmarkedArticles.includes(String(n)),Ae=d.slug?S.bookmarkedArticles.includes(d.slug):!1,$e=S.bookmarkedArticles.includes(String(d.id));q(Te||Ae||$e)}p(!1)})(),window.scrollTo(0,0);const i=()=>{const d=document.documentElement.scrollHeight-window.innerHeight,C=window.scrollY/d*100;F.current&&F.current.style.setProperty("--scroll-width",`${C}%`)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[n]);const we=async()=>{if(!n)return;const t=await h.toggleLike(n);f(t)},Ne=async()=>{const t=(s==null?void 0:s.slug)||n;if(!t)return;const i=await h.toggleBookmark(t);q(i)},ye=async t=>{if(t.preventDefault(),!(!n||!y.trim()||!R.trim())){le(!0);try{const i=await h.addComment(n,y,R);se(""),ae(""),o(d=>[i,...d])}finally{le(!1)}}},Ce=async t=>{if(t.preventDefault(),!(!n||!I.trim())){Q(!0);try{await h.submitFootnoteSuggestion(n,y||"Leitor Anónimo",I,V,Y),X(""),J(""),Z(!0),setTimeout(()=>{Z(!1),N(!1)},3e3)}catch(i){console.error("Erro ao sugerir nota:",i)}finally{Q(!1)}}},Se=async()=>{if(!(!(s!=null&&s.content)||L)){te(!0);try{const t=await de.getGlossaryTerms(s.content);fe(t),ke(!0)}catch(t){console.error("Failed to load glossary:",t)}finally{te(!1)}}},ze=t=>{const i=t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-"),d=document.getElementById(i);if(d){const E=d.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:E-100,behavior:"smooth"}),w(!1)}};return c?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-slate-950",children:e.jsx(z,{className:"animate-spin text-brand-blue",size:32})}):s?e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 min-h-screen pb-40 transition-colors duration-300",children:[e.jsx("div",{className:"fixed top-0 left-0 w-full h-1 z-[110] pointer-events-none shadow-sm",children:e.jsx("div",{ref:F,className:"scroll-progress-bar bg-brand-accent dark:bg-green-400"})}),e.jsx("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 py-2.5 px-6 sticky top-0 z-40 no-print",children:e.jsx("div",{className:"max-w-[1536px] mx-auto flex items-center justify-between",children:e.jsxs(j,{to:"/",className:"flex items-center gap-2 text-brand-blue dark:text-blue-400 font-black text-[10px] uppercase tracking-tight hover:underline",children:[e.jsx(Ye,{size:14})," Portal do Saber"]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-10",children:[e.jsx("article",{className:"bg-white dark:bg-slate-900 rounded-[32px] border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden mb-12 relative",children:e.jsxs("div",{className:"p-8 md:p-12 lg:p-16",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"open-access-badge",children:"Open Access"}),e.jsx(j,{to:`/?cat=${encodeURIComponent(s.category)}`,className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] hover:text-brand-blue transition-colors",children:s.category})]})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-black text-brand-blue dark:text-white leading-[1.1] mb-8 tracking-tight",children:s.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-5 text-[11px] font-bold text-slate-400 uppercase tracking-tight mb-10 pb-6 border-b border-slate-100 dark:border-slate-800",children:[e.jsxs(j,{to:`/author/${encodeURIComponent(s.author)}`,className:"flex items-center gap-2.5 text-slate-900 dark:text-slate-100 hover:text-brand-blue transition-colors",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center overflow-hidden border border-slate-200 dark:border-slate-700",children:s.authorAvatarUrl?e.jsx("img",{src:s.authorAvatarUrl,alt:"",className:"w-full h-full object-cover"}):e.jsx(st,{size:12})}),s.author]}),e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx(He,{size:14})," ",s.date]}),e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx(Re,{size:14})," ",s.readTime," min read"]}),e.jsxs("div",{className:"hidden md:block ml-auto font-mono text-[10px] opacity-40",children:["DOI: 10.3390/ss",s.id]})]}),e.jsx("div",{className:`prose prose-slate dark:prose-invert max-w-none ${L?"glossary-active":""}`,children:e.jsx(rt,{content:s.content||"",glossaryTerms:ge})}),e.jsx("div",{className:"mt-6 mb-8 flex justify-end",children:L?e.jsxs("span",{className:"flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-xl text-[10px] font-black uppercase tracking-widest",children:[e.jsx(U,{size:14})," Glossário Ativo"]}):e.jsxs("button",{onClick:Se,disabled:ee,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-brand-blue dark:text-blue-300 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-all",children:[ee?e.jsx(z,{size:14,className:"animate-spin"}):e.jsx(Me,{size:14}),"Ativar Glossário AI"]})}),P.length>0&&e.jsxs("div",{className:"mt-12 p-6 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border-l-4 border-brand-blue",children:[e.jsxs("h4",{className:"text-[10px] font-black text-brand-blue uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(Pe,{size:14})," Notas de Rodapé Colaborativas"]}),e.jsx("div",{className:"space-y-4",children:P.map((t,i)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"font-bold text-brand-blue mr-2",children:["[",i+1,"]"]}),e.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-serif leading-relaxed italic",children:t.content}),t.referenceText&&e.jsxs("p",{className:"text-[10px] text-slate-400 mt-1",children:['Ref: "',t.referenceText,'"']})]},t.id))})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-6 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-brand-blue hover:border-brand-blue transition-all shadow-sm",children:[e.jsx(xe,{size:14})," Sugerir Correção ou Nota"]})}),e.jsxs("div",{className:"mt-16 pt-8 border-t border-slate-100 dark:border-slate-800",children:[e.jsxs("h4",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] mb-5 flex items-center gap-2",children:[e.jsx(Be,{size:12,className:"text-brand-blue"})," Indexação de Temas"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(oe=s.tags)==null?void 0:oe.map(t=>e.jsxs(j,{to:`/?tag=${encodeURIComponent(t)}`,className:"px-4 py-2 bg-slate-50 dark:bg-slate-800 hover:bg-brand-blue hover:text-white text-slate-600 dark:text-slate-300 rounded-lg text-[10px] font-bold transition-all border border-slate-100 dark:border-slate-700 shadow-sm",children:["#",t]},t))})]})]})}),e.jsxs("section",{ref:m,className:"mb-16 scroll-mt-32",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsxs("h2",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight flex items-center gap-2.5",children:[e.jsx(ie,{size:20,className:"text-brand-blue"})," Espaço de Debate (",a.length,")"]}),e.jsx("div",{className:"h-px flex-grow bg-slate-200 dark:bg-slate-800"})]}),e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-[24px] p-6 md:p-10 border border-slate-200 dark:border-slate-800 shadow-sm mb-8",children:e.jsxs("form",{onSubmit:ye,className:"space-y-5",children:[e.jsx("input",{required:!0,type:"text",placeholder:"Seu Nome ou Nome da Organização",value:y,onChange:t=>se(t.target.value),className:"w-full px-5 py-3.5 bg-slate-50 dark:bg-slate-800 border-none rounded-xl outline-none focus:ring-2 focus:ring-brand-blue/30 dark:text-white transition-all font-bold text-sm"}),e.jsx("textarea",{required:!0,placeholder:"Contribute com a sua reflexão crítica ou comentário sobre o manuscrito...",value:R,onChange:t=>ae(t.target.value),className:"w-full px-5 py-3.5 bg-slate-50 dark:bg-slate-800 border-none rounded-xl outline-none focus:ring-2 focus:ring-brand-blue/30 dark:text-white transition-all h-28 resize-none font-serif text-base leading-relaxed"}),e.jsxs("button",{type:"submit",disabled:re,className:"flex items-center gap-2.5 px-8 py-3.5 bg-brand-blue text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-brand-dark transition-all shadow-lg shadow-blue-500/20 disabled:opacity-50 active:scale-95",children:[re?e.jsx(z,{size:14,className:"animate-spin"}):e.jsx(D,{size:14}),"Publicar Reflexão"]})]})}),e.jsx("div",{className:"space-y-5",children:a.length===0?e.jsx("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[24px]",children:e.jsx("p",{className:"text-slate-400 font-bold uppercase text-[9px] tracking-widest",children:"Inicie o debate partilhando a sua opinião."})}):a.map(t=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-[20px] border border-slate-100 dark:border-slate-800 shadow-sm transition-all hover:shadow-md animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-50 dark:bg-blue-900/30 rounded-full flex items-center justify-center font-black text-brand-blue dark:text-blue-400 text-xs",children:t.author.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-xs",children:t.author}),e.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase",children:new Date(t.date).toLocaleDateString()})]})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed font-serif italic text-base",children:['"',t.content,'"']})]},t.id))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("h2",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Leituras Sugeridas"}),e.jsx("div",{className:"h-px flex-grow bg-slate-200 dark:bg-slate-800"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:u.map(t=>e.jsxs(j,{to:`/article/${t.slug}`,className:"group bg-white dark:bg-slate-900 p-5 rounded-[24px] border border-slate-200 dark:border-slate-800 hover:shadow-xl transition-all flex flex-col h-full",children:[e.jsx("div",{className:"aspect-[16/10] rounded-xl overflow-hidden mb-4 bg-slate-100 relative",children:e.jsx("img",{src:t.imageUrl,alt:"",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})}),e.jsx("h3",{className:"text-base font-black text-slate-900 dark:text-white leading-snug group-hover:text-brand-blue transition-colors line-clamp-2 mb-3",children:t.title}),e.jsxs("div",{className:"mt-auto pt-3 border-t border-slate-50 dark:border-slate-800 flex items-center justify-between",children:[e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase",children:t.category}),e.jsx(Ee,{size:14,className:"text-slate-300 group-hover:translate-x-1 transition-transform"})]})]},t.id))})]})]}),e.jsx("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[100] no-print",children:e.jsxs("div",{className:"bg-[#020617]/95 backdrop-blur-2xl border border-white/10 px-6 py-4 rounded-full shadow-[0_30px_60px_rgba(0,0,0,0.6)] flex items-center gap-8",children:[e.jsx("button",{onClick:we,className:`group relative transition-all hover:scale-110 active:scale-95 ${g?"text-red-500":"text-slate-300 hover:text-white"}`,title:"Gostar",children:e.jsx(Qe,{size:22,className:g?"fill-current animate-in zoom-in-50":""})}),e.jsx("button",{onClick:()=>{var t;return(t=m.current)==null?void 0:t.scrollIntoView({behavior:"smooth"})},className:"text-slate-300 hover:text-blue-400 transition-all hover:scale-110 active:scale-95",title:"Ir para os Comentários",children:e.jsx(ie,{size:22})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>w(!T),className:`transition-all hover:scale-110 active:scale-95 ${T?"text-blue-400":"text-slate-300 hover:text-white"}`,title:"Sumário de Navegação",children:e.jsx(et,{size:22})}),T&&e.jsxs("div",{className:"absolute bottom-full mb-8 left-1/2 -translate-x-1/2 w-72 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[24px] shadow-2xl p-5 animate-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b dark:border-slate-800 pb-2.5",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:"Navegação Rápida"}),e.jsx("button",{onClick:()=>w(!1),title:"Fechar sumário",className:"text-slate-400 hover:text-red-500",children:e.jsx(G,{size:14})})]}),e.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto custom-scrollbar pr-2",children:[e.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),w(!1)},className:"w-full text-left text-[9px] font-black uppercase text-brand-blue hover:text-brand-dark transition-colors tracking-tighter",children:"Topo do Manuscrito"}),ne.length>0?ne.map((t,i)=>e.jsx("button",{onClick:()=>ze(t),className:"w-full text-left text-xs font-bold text-slate-600 dark:text-slate-400 hover:text-brand-blue dark:hover:text-blue-400 transition-colors line-clamp-2 border-l-2 border-transparent hover:border-brand-blue pl-3 py-1",children:t},i)):e.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Nenhuma secção disponível."})]})]})]}),e.jsx("button",{onClick:Ne,className:`transition-all hover:scale-110 active:scale-95 ${O?"text-amber-500":"text-slate-300 hover:text-white"}`,title:"Guardar como Favorito",children:e.jsx(_e,{size:22,className:O?"fill-current animate-in zoom-in-50":""})}),e.jsx("button",{onClick:()=>A(!0),className:"text-slate-300 hover:text-white transition-all hover:scale-110 active:scale-95",title:"Partilhar Manuscrito",children:e.jsx(ce,{size:22})}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-slate-300 hover:text-white transition-all hover:scale-110 active:scale-95",title:"Voltar ao Topo",children:e.jsx(Ue,{size:22})})]})}),me&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-sm",onClick:()=>A(!1)}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[32px] shadow-2xl relative z-10 overflow-hidden border border-slate-100 dark:border-slate-800 animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-slate-50 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/30",children:[e.jsxs("h3",{className:"font-black text-slate-900 dark:text-white uppercase tracking-tight text-xs flex items-center gap-2",children:[e.jsx(ce,{size:14,className:"text-brand-blue"})," Disseminar Conhecimento"]}),e.jsx("button",{onClick:()=>A(!1),title:"Fechar partilha",className:"p-2 text-slate-400 hover:text-red-500 transition-colors rounded-full hover:bg-red-50 dark:hover:bg-red-900/10",children:e.jsx(G,{size:18})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-5 gap-3",children:je.map(t=>e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 group/icon",title:t.name,children:[e.jsx("div",{className:`w-12 h-12 ${t.color} text-white rounded-2xl flex items-center justify-center shadow-lg transition-transform group-hover/icon:scale-110 active:scale-90`,children:e.jsx(t.icon,{size:22})}),e.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-tighter group-hover/icon:text-brand-blue transition-colors text-center",children:t.name})]},t.name))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Link do Manuscrito"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-1 bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-[11px] font-mono text-slate-500 dark:text-slate-400 truncate",children:M}),e.jsxs("button",{onClick:ve,className:`shrink-0 px-4 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all flex items-center gap-2 ${$?"bg-green-500 text-white shadow-green-500/20":"bg-brand-blue text-white hover:bg-brand-dark shadow-blue-500/20"} shadow-lg`,children:[$?e.jsx(U,{size:14}):e.jsx(qe,{size:14}),$?"Copiado":"Copiar"]})]})]})]}),e.jsx("div",{className:"px-6 py-4 bg-slate-50 dark:bg-slate-800/30 text-center",children:e.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest italic",children:'"O saber só é pleno quando partilhado."'})})]})]}),ue&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-sm",onClick:()=>N(!1)}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[32px] shadow-2xl relative z-10 overflow-hidden border border-slate-100 dark:border-slate-800 animate-in zoom-in-95",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-slate-50 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/30",children:[e.jsxs("h3",{className:"font-black text-brand-blue dark:text-blue-400 uppercase tracking-tight text-xs flex items-center gap-2",children:[e.jsx(xe,{size:16})," Debate Académico: Sugerir Nota"]}),e.jsx("button",{onClick:()=>N(!1),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Fechar modal",children:e.jsx(G,{size:20})})]}),e.jsx("div",{className:"p-8",children:pe?e.jsxs("div",{className:"text-center py-10 animate-in zoom-in",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(U,{size:32})}),e.jsx("h4",{className:"text-lg font-black text-slate-900 dark:text-white mb-2",children:"Sugestão Enviada!"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-serif lowercase italic",children:"Sua contribuição será analisada pela equipa editorial e aparecerá no manuscrito após aprovação."})]}):e.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Contribuição"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["correction","supplementary_link","insight"].map(t=>e.jsx("button",{type:"button",onClick:()=>he(t),className:`px-3 py-3 rounded-xl border text-[9px] font-black uppercase tracking-tighter transition-all ${V===t?"bg-brand-blue text-white border-brand-blue shadow-lg shadow-blue-500/20":"bg-slate-50 dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-400 hover:border-brand-blue"}`,title:`Selecionar tipo: ${t}`,children:t==="correction"?"Correção":t==="supplementary_link"?"Link Extra":"Insight"},t))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Trecho de Referência (Opcional)"}),e.jsx("input",{type:"text",placeholder:"Ex: No segundo parágrafo sobre...",value:Y,onChange:t=>J(t.target.value),className:"w-full px-5 py-3.5 bg-slate-50 dark:bg-slate-800 border-none rounded-xl outline-none focus:ring-2 focus:ring-brand-blue/30 dark:text-white transition-all text-sm font-serif"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Conteúdo da Nota"}),e.jsx("textarea",{required:!0,placeholder:"Descreva a sua sugestão ou forneça o link complementar...",value:I,onChange:t=>X(t.target.value),className:"w-full px-5 py-3.5 bg-slate-50 dark:bg-slate-800 border-none rounded-xl outline-none focus:ring-2 focus:ring-brand-blue/30 dark:text-white transition-all h-32 resize-none text-sm font-serif"})]}),e.jsxs("button",{type:"submit",disabled:K,className:"w-full flex items-center justify-center gap-2.5 py-4 bg-brand-blue text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-brand-dark transition-all shadow-lg shadow-blue-500/20 disabled:opacity-50",children:[K?e.jsx(z,{size:16,className:"animate-spin"}):e.jsx(D,{size:16}),"Submeter para Revisão"]})]})}),e.jsx("div",{className:"px-8 py-4 bg-slate-50 dark:bg-slate-800/30 text-center border-t border-slate-100 dark:border-slate-800",children:e.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest flex items-center justify-center gap-2",children:[e.jsx(Ve,{size:12})," Apenas contribuições académicas serão aceites"]})})]})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Manuscrito não encontrado."})};export{dt as default};
