import{c as w,j as e,R as _,u as Te,a as $e,r,L as S,b as v,C as Ae,S as Le,d as U,H as Ie,M as ie,e as G,f as Re,X as W,B as Me,g as ce,A as Ee,h as _e,F as Ue,T as Ge,i as We,k as De,s as x,l as de}from"./main-C1m6iEfb.js";import{C as Oe}from"./calendar-B-mN0p9F.js";import{F as Be}from"./file-text-BGThAKee.js";import{C as qe}from"./circle-alert-D8xbVc34.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pe=w("arrow-left",He);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],xe=w("circle-plus",Ve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ye=w("heart",Xe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Ke=w("list-todo",Je);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ze=w("user",Qe),D=l=>l.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-"),et=({term:l,definition:m,children:b})=>e.jsxs("span",{className:"group relative inline-block cursor-help border-b border-dotted border-brand-blue dark:border-blue-400",children:[e.jsx("span",{className:"text-brand-blue dark:text-blue-300 font-medium",children:b}),e.jsxs("span",{className:"invisible opacity-0 group-hover:visible group-hover:opacity-100 transition-all absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-slate-900 text-white text-xs rounded-xl shadow-xl z-50 pointer-events-none",children:[e.jsx("span",{className:"font-bold block mb-1 text-blue-200",children:l}),m,e.jsx("svg",{className:"absolute text-slate-900 h-2 w-full left-0 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255",children:e.jsx("polygon",{className:"fill-current",points:"0,0 127.5,127.5 255,0"})})]})]}),tt=({content:l,glossaryTerms:m=[]})=>{if(!l)return null;const b=h=>{if(!m||m.length===0)return s(h);let p=[h];return m.forEach(n=>{const a=[],o=new RegExp(`\\b(${n.term})\\b`,"gi");p.forEach(i=>{if(typeof i=="string"){const u=i.split(o);u.length>1?u.forEach((f,k)=>{k%2===1?a.push(e.jsx(et,{term:n.term,definition:n.definition,children:f},`${n.term}-${k}`)):a.push(f)}):a.push(i)}else a.push(i)}),p=a}),p.map((n,a)=>typeof n=="string"?e.jsx(_.Fragment,{children:s(n)},a):e.jsx(_.Fragment,{children:n},a))},s=h=>h.split(/(\*\*.*?\*\*)/g).map((n,a)=>{if(n.startsWith("**")&&n.endsWith("**")&&n.length>4)return e.jsx("strong",{className:"font-bold text-slate-900 dark:text-white",children:n.slice(2,-2)},a);const o=n.split(/(\*[^*]+?\*)/g);return e.jsx(_.Fragment,{children:o.map((i,u)=>i.startsWith("*")&&i.endsWith("*")&&i.length>2?e.jsx("em",{className:"italic text-slate-800 dark:text-slate-200",children:i.slice(1,-1)},u):i)},a)});return e.jsx("div",{className:"space-y-5 text-slate-800 dark:text-slate-200 leading-relaxed font-sans text-base md:text-lg",children:l.split(`
`).map((h,p)=>{const n=`line-${p}`,a=h.trim();if(a.startsWith("### ")){const o=a.replace("### ","");return e.jsx("h3",{id:D(o),className:"text-lg md:text-xl font-black text-slate-900 dark:text-white mt-8 mb-3 scroll-mt-32",children:s(o)},n)}if(a.startsWith("## ")){const o=a.replace("## ","");return e.jsx("h2",{id:D(o),className:"text-xl md:text-2xl font-black text-brand-blue dark:text-blue-400 mt-10 mb-5 border-b border-slate-100 dark:border-slate-800 pb-3 scroll-mt-32 uppercase tracking-tight",children:s(o)},n)}if(a.startsWith("# ")){const o=a.replace("# ","");return e.jsx("h1",{id:D(o),className:"text-2xl md:text-3xl font-black text-slate-900 dark:text-white mt-12 mb-6 scroll-mt-32 tracking-tighter",children:s(o)},n)}return a.startsWith("* ")||a.startsWith("- ")?e.jsxs("div",{className:"flex gap-3 ml-3 mb-2.5",children:[e.jsx("span",{className:"text-brand-blue dark:text-blue-400 font-black mt-0.5 text-xl",children:"•"}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-serif text-sm md:text-base",children:b(a.substring(2))})]},n):a.startsWith("> ")?e.jsx("blockquote",{className:"border-l-4 border-brand-blue dark:border-blue-500 pl-6 py-4 my-8 bg-slate-50 dark:bg-slate-900/40 italic text-slate-800 dark:text-slate-200 text-lg md:text-xl font-serif rounded-r-2xl leading-relaxed",children:b(a.replace("> ",""))},n):a===""?e.jsx("div",{className:"h-3"},n):e.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-5 font-serif leading-relaxed text-justify hyphens-auto text-sm md:text-base",children:b(a)},n)})})},ot=()=>{var ne;const{id:l}=Te(),m=$e(),b=r.useRef(null),[s,h]=r.useState(m.state),[p,n]=r.useState([]),[a,o]=r.useState([]),[i,u]=r.useState(!m.state),[f,k]=r.useState(!1),[O,B]=r.useState(!1),z=r.useRef(null),[F,N]=r.useState(!1),[me,T]=r.useState(!1),[$,q]=r.useState(!1),[H,be]=r.useState([]),[he,y]=r.useState(!1),[P,pe]=r.useState("correction"),[A,V]=r.useState(""),[X,Y]=r.useState(""),[J,K]=r.useState(!1),[ue,Q]=r.useState(!1),[ge,fe]=r.useState([]),[Z,ee]=r.useState(!1),[L,ke]=r.useState(!1),[C,te]=r.useState(""),[I,se]=r.useState(""),[ae,re]=r.useState(!1),R=`${window.location.href.split("#")[0]}#/article/${l}`,M=s?encodeURIComponent(s.title):"",j=encodeURIComponent(R),je=[{name:"WhatsApp",icon:_e,color:"bg-[#25D366]",url:`https://api.whatsapp.com/send?text=${M}%20${j}`},{name:"Facebook",icon:Ue,color:"bg-[#1877F2]",url:`https://www.facebook.com/sharer/sharer.php?u=${j}`},{name:"X (Twitter)",icon:Ge,color:"bg-[#000000]",url:`https://twitter.com/intent/tweet?text=${M}&url=${j}`},{name:"Telegram",icon:G,color:"bg-[#0088cc]",url:`https://t.me/share/url?url=${j}&text=${M}`},{name:"LinkedIn",icon:We,color:"bg-[#0A66C2]",url:`https://www.linkedin.com/sharing/share-offsite/?url=${j}`}],ve=async()=>{try{await navigator.clipboard.writeText(R),q(!0),setTimeout(()=>q(!1),2e3)}catch(t){console.error("Falha ao copiar:",t)}},le=r.useMemo(()=>s!=null&&s.content?s.content.split(`
`).filter(t=>t.trim().startsWith("## ")).map(t=>t.replace("## ","").trim()):[],[s==null?void 0:s.content]);r.useEffect(()=>{(async()=>{if(!l)return;u(!0);const d=await x.getArticleById(l);if(d){h(d);const g=await de.getRecommendedArticles(l);n(g);const E=await x.getArticleComments(l);o(E);const Fe=await x.getArticleFootnotes(l);be(Fe);const oe=x.getUserInteractions();k(oe.likedArticles.includes(l)),B(oe.bookmarkedArticles.includes(l))}u(!1)})(),window.scrollTo(0,0);const c=()=>{const d=document.documentElement.scrollHeight-window.innerHeight,g=window.scrollY/d*100;z.current&&z.current.style.setProperty("--scroll-width",`${g}%`)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[l]);const we=async()=>{if(!l)return;const t=await x.toggleLike(l);k(t)},Ne=async()=>{if(!l)return;const t=await x.toggleBookmark(l);B(t)},ye=async t=>{if(t.preventDefault(),!(!l||!C.trim()||!I.trim())){re(!0);try{await x.addComment(l,C,I),te(""),se("");const d=(await x.getComments()).filter(g=>g.articleId===l);o(d)}finally{re(!1)}}},Ce=async t=>{if(t.preventDefault(),!(!l||!A.trim())){K(!0);try{await x.submitFootnoteSuggestion(l,C||"Leitor Anónimo",A,P,X),V(""),Y(""),Q(!0),setTimeout(()=>{Q(!1),y(!1)},3e3)}catch(c){console.error("Erro ao sugerir nota:",c)}finally{K(!1)}}},Se=async()=>{if(!(!(s!=null&&s.content)||L)){ee(!0);try{const t=await de.getGlossaryTerms(s.content);fe(t),ke(!0)}catch(t){console.error("Failed to load glossary:",t)}finally{ee(!1)}}},ze=t=>{const c=t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-"),d=document.getElementById(c);if(d){const E=d.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:E-100,behavior:"smooth"}),N(!1)}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-slate-950",children:e.jsx(S,{className:"animate-spin text-brand-blue",size:32})}):s?e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 min-h-screen pb-40 transition-colors duration-300",children:[e.jsx("div",{className:"fixed top-0 left-0 w-full h-1 z-[110] pointer-events-none shadow-sm",children:e.jsx("div",{ref:z,className:"scroll-progress-bar bg-brand-accent dark:bg-green-400"})}),e.jsx("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 py-2.5 px-6 sticky top-0 z-40 no-print",children:e.jsx("div",{className:"max-w-[1536px] mx-auto flex items-center justify-between",children:e.jsxs(v,{to:"/",className:"flex items-center gap-2 text-brand-blue dark:text-blue-400 font-black text-[10px] uppercase tracking-tight hover:underline",children:[e.jsx(Pe,{size:14})," Portal do Saber"]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-10",children:[e.jsx("article",{className:"bg-white dark:bg-slate-900 rounded-[32px] border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden mb-12 relative",children:e.jsxs("div",{className:"p-8 md:p-12 lg:p-16",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"open-access-badge",children:"Open Access"}),e.jsx(v,{to:`/?cat=${encodeURIComponent(s.category)}`,className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] hover:text-brand-blue transition-colors",children:s.category})]})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-black text-brand-blue dark:text-white leading-[1.1] mb-8 tracking-tight",children:s.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-5 text-[11px] font-bold text-slate-400 uppercase tracking-tight mb-10 pb-6 border-b border-slate-100 dark:border-slate-800",children:[e.jsxs(v,{to:`/author/${encodeURIComponent(s.author)}`,className:"flex items-center gap-2.5 text-slate-900 dark:text-slate-100 hover:text-brand-blue transition-colors",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center overflow-hidden border border-slate-200 dark:border-slate-700",children:s.authorAvatarUrl?e.jsx("img",{src:s.authorAvatarUrl,alt:"",className:"w-full h-full object-cover"}):e.jsx(Ze,{size:12})}),s.author]}),e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx(Oe,{size:14})," ",s.date]}),e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx(Ae,{size:14})," ",s.readTime," min read"]}),e.jsxs("div",{className:"hidden md:block ml-auto font-mono text-[10px] opacity-40",children:["DOI: 10.3390/ss",s.id]})]}),e.jsx("div",{className:`prose prose-slate dark:prose-invert max-w-none ${L?"glossary-active":""}`,children:e.jsx(tt,{content:s.content,glossaryTerms:ge})}),e.jsx("div",{className:"mt-6 mb-8 flex justify-end",children:L?e.jsxs("span",{className:"flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-xl text-[10px] font-black uppercase tracking-widest",children:[e.jsx(U,{size:14})," Glossário Ativo"]}):e.jsxs("button",{onClick:Se,disabled:Z,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-brand-blue dark:text-blue-300 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-all",children:[Z?e.jsx(S,{size:14,className:"animate-spin"}):e.jsx(Le,{size:14}),"Ativar Glossário AI"]})}),H.length>0&&e.jsxs("div",{className:"mt-12 p-6 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border-l-4 border-brand-blue",children:[e.jsxs("h4",{className:"text-[10px] font-black text-brand-blue uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(Be,{size:14})," Notas de Rodapé Colaborativas"]}),e.jsx("div",{className:"space-y-4",children:H.map((t,c)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"font-bold text-brand-blue mr-2",children:["[",c+1,"]"]}),e.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-serif leading-relaxed italic",children:t.content}),t.referenceText&&e.jsxs("p",{className:"text-[10px] text-slate-400 mt-1",children:['Ref: "',t.referenceText,'"']})]},t.id))})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-6 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-brand-blue hover:border-brand-blue transition-all shadow-sm",children:[e.jsx(xe,{size:14})," Sugerir Correção ou Nota"]})}),e.jsxs("div",{className:"mt-16 pt-8 border-t border-slate-100 dark:border-slate-800",children:[e.jsxs("h4",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] mb-5 flex items-center gap-2",children:[e.jsx(Ie,{size:12,className:"text-brand-blue"})," Indexação de Temas"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(ne=s.tags)==null?void 0:ne.map(t=>e.jsxs(v,{to:`/?tag=${encodeURIComponent(t)}`,className:"px-4 py-2 bg-slate-50 dark:bg-slate-800 hover:bg-brand-blue hover:text-white text-slate-600 dark:text-slate-300 rounded-lg text-[10px] font-bold transition-all border border-slate-100 dark:border-slate-700 shadow-sm",children:["#",t]},t))})]})]})}),e.jsxs("section",{ref:b,className:"mb-16 scroll-mt-32",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsxs("h2",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight flex items-center gap-2.5",children:[e.jsx(ie,{size:20,className:"text-brand-blue"})," Espaço de Debate (",a.length,")"]}),e.jsx("div",{className:"h-px flex-grow bg-slate-200 dark:bg-slate-800"})]}),e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-[24px] p-6 md:p-10 border border-slate-200 dark:border-slate-800 shadow-sm mb-8",children:e.jsxs("form",{onSubmit:ye,className:"space-y-5",children:[e.jsx("input",{required:!0,type:"text",placeholder:"Seu Nome ou Nome da Organização",value:C,onChange:t=>te(t.target.value),className:"w-full px-5 py-3.5 bg-slate-50 dark:bg-slate-800 border-none rounded-xl outline-none focus:ring-2 focus:ring-brand-blue/30 dark:text-white transition-all font-bold text-sm"}),e.jsx("textarea",{required:!0,placeholder:"Contribute com a sua reflexão crítica ou comentário sobre o manuscrito...",value:I,onChange:t=>se(t.target.value),className:"w-full px-5 py-3.5 bg-slate-50 dark:bg-slate-800 border-none rounded-xl outline-none focus:ring-2 focus:ring-brand-blue/30 dark:text-white transition-all h-28 resize-none font-serif text-base leading-relaxed"}),e.jsxs("button",{type:"submit",disabled:ae,className:"flex items-center gap-2.5 px-8 py-3.5 bg-brand-blue text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-brand-dark transition-all shadow-lg shadow-blue-500/20 disabled:opacity-50 active:scale-95",children:[ae?e.jsx(S,{size:14,className:"animate-spin"}):e.jsx(G,{size:14}),"Publicar Reflexão"]})]})}),e.jsx("div",{className:"space-y-5",children:a.length===0?e.jsx("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[24px]",children:e.jsx("p",{className:"text-slate-400 font-bold uppercase text-[9px] tracking-widest",children:"Inicie o debate partilhando a sua opinião."})}):a.map(t=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-[20px] border border-slate-100 dark:border-slate-800 shadow-sm transition-all hover:shadow-md animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-50 dark:bg-blue-900/30 rounded-full flex items-center justify-center font-black text-brand-blue dark:text-blue-400 text-xs",children:t.author.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-xs",children:t.author}),e.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase",children:new Date(t.date).toLocaleDateString()})]})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed font-serif italic text-base",children:['"',t.content,'"']})]},t.id))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("h2",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Leituras Sugeridas"}),e.jsx("div",{className:"h-px flex-grow bg-slate-200 dark:bg-slate-800"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:p.map(t=>e.jsxs(v,{to:`/article/${t.slug}`,className:"group bg-white dark:bg-slate-900 p-5 rounded-[24px] border border-slate-200 dark:border-slate-800 hover:shadow-xl transition-all flex flex-col h-full",children:[e.jsx("div",{className:"aspect-[16/10] rounded-xl overflow-hidden mb-4 bg-slate-100 relative",children:e.jsx("img",{src:t.imageUrl,alt:"",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})}),e.jsx("h3",{className:"text-base font-black text-slate-900 dark:text-white leading-snug group-hover:text-brand-blue transition-colors line-clamp-2 mb-3",children:t.title}),e.jsxs("div",{className:"mt-auto pt-3 border-t border-slate-50 dark:border-slate-800 flex items-center justify-between",children:[e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase",children:t.category}),e.jsx(Re,{size:14,className:"text-slate-300 group-hover:translate-x-1 transition-transform"})]})]},t.id))})]})]}),e.jsx("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[100] no-print",children:e.jsxs("div",{className:"bg-[#020617]/95 backdrop-blur-2xl border border-white/10 px-6 py-4 rounded-full shadow-[0_30px_60px_rgba(0,0,0,0.6)] flex items-center gap-8",children:[e.jsx("button",{onClick:we,className:`group relative transition-all hover:scale-110 active:scale-95 ${f?"text-red-500":"text-slate-300 hover:text-white"}`,title:"Gostar",children:e.jsx(Ye,{size:22,className:f?"fill-current animate-in zoom-in-50":""})}),e.jsx("button",{onClick:()=>{var t;return(t=b.current)==null?void 0:t.scrollIntoView({behavior:"smooth"})},className:"text-slate-300 hover:text-blue-400 transition-all hover:scale-110 active:scale-95",title:"Ir para os Comentários",children:e.jsx(ie,{size:22})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>N(!F),className:`transition-all hover:scale-110 active:scale-95 ${F?"text-blue-400":"text-slate-300 hover:text-white"}`,title:"Sumário de Navegação",children:e.jsx(Ke,{size:22})}),F&&e.jsxs("div",{className:"absolute bottom-full mb-8 left-1/2 -translate-x-1/2 w-72 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[24px] shadow-2xl p-5 animate-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b dark:border-slate-800 pb-2.5",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:"Navegação Rápida"}),e.jsx("button",{onClick:()=>N(!1),title:"Fechar sumário",className:"text-slate-400 hover:text-red-500",children:e.jsx(W,{size:14})})]}),e.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto custom-scrollbar pr-2",children:[e.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),N(!1)},className:"w-full text-left text-[9px] font-black uppercase text-brand-blue hover:text-brand-dark transition-colors tracking-tighter",children:"Topo do Manuscrito"}),le.length>0?le.map((t,c)=>e.jsx("button",{onClick:()=>ze(t),className:"w-full text-left text-xs font-bold text-slate-600 dark:text-slate-400 hover:text-brand-blue dark:hover:text-blue-400 transition-colors line-clamp-2 border-l-2 border-transparent hover:border-brand-blue pl-3 py-1",children:t},c)):e.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Nenhuma secção disponível."})]})]})]}),e.jsx("button",{onClick:Ne,className:`transition-all hover:scale-110 active:scale-95 ${O?"text-amber-500":"text-slate-300 hover:text-white"}`,title:"Guardar como Favorito",children:e.jsx(Me,{size:22,className:O?"fill-current animate-in zoom-in-50":""})}),e.jsx("button",{onClick:()=>T(!0),className:"text-slate-300 hover:text-white transition-all hover:scale-110 active:scale-95",title:"Partilhar Manuscrito",children:e.jsx(ce,{size:22})}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-slate-300 hover:text-white transition-all hover:scale-110 active:scale-95",title:"Voltar ao Topo",children:e.jsx(Ee,{size:22})})]})}),me&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-sm",onClick:()=>T(!1)}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[32px] shadow-2xl relative z-10 overflow-hidden border border-slate-100 dark:border-slate-800 animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-slate-50 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/30",children:[e.jsxs("h3",{className:"font-black text-slate-900 dark:text-white uppercase tracking-tight text-xs flex items-center gap-2",children:[e.jsx(ce,{size:14,className:"text-brand-blue"})," Disseminar Conhecimento"]}),e.jsx("button",{onClick:()=>T(!1),title:"Fechar partilha",className:"p-2 text-slate-400 hover:text-red-500 transition-colors rounded-full hover:bg-red-50 dark:hover:bg-red-900/10",children:e.jsx(W,{size:18})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-5 gap-3",children:je.map(t=>e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 group/icon",title:t.name,children:[e.jsx("div",{className:`w-12 h-12 ${t.color} text-white rounded-2xl flex items-center justify-center shadow-lg transition-transform group-hover/icon:scale-110 active:scale-90`,children:e.jsx(t.icon,{size:22})}),e.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-tighter group-hover/icon:text-brand-blue transition-colors text-center",children:t.name})]},t.name))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Link do Manuscrito"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-1 bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-[11px] font-mono text-slate-500 dark:text-slate-400 truncate",children:R}),e.jsxs("button",{onClick:ve,className:`shrink-0 px-4 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all flex items-center gap-2 ${$?"bg-green-500 text-white shadow-green-500/20":"bg-brand-blue text-white hover:bg-brand-dark shadow-blue-500/20"} shadow-lg`,children:[$?e.jsx(U,{size:14}):e.jsx(De,{size:14}),$?"Copiado":"Copiar"]})]})]})]}),e.jsx("div",{className:"px-6 py-4 bg-slate-50 dark:bg-slate-800/30 text-center",children:e.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest italic",children:'"O saber só é pleno quando partilhado."'})})]})]}),he&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-950/60 backdrop-blur-sm",onClick:()=>y(!1)}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[32px] shadow-2xl relative z-10 overflow-hidden border border-slate-100 dark:border-slate-800 animate-in zoom-in-95",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-slate-50 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/30",children:[e.jsxs("h3",{className:"font-black text-brand-blue dark:text-blue-400 uppercase tracking-tight text-xs flex items-center gap-2",children:[e.jsx(xe,{size:16})," Debate Académico: Sugerir Nota"]}),e.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Fechar modal",children:e.jsx(W,{size:20})})]}),e.jsx("div",{className:"p-8",children:ue?e.jsxs("div",{className:"text-center py-10 animate-in zoom-in",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(U,{size:32})}),e.jsx("h4",{className:"text-lg font-black text-slate-900 dark:text-white mb-2",children:"Sugestão Enviada!"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-serif lowercase italic",children:"Sua contribuição será analisada pela equipa editorial e aparecerá no manuscrito após aprovação."})]}):e.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Contribuição"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["correction","supplementary_link","insight"].map(t=>e.jsx("button",{type:"button",onClick:()=>pe(t),className:`px-3 py-3 rounded-xl border text-[9px] font-black uppercase tracking-tighter transition-all ${P===t?"bg-brand-blue text-white border-brand-blue shadow-lg shadow-blue-500/20":"bg-slate-50 dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-400 hover:border-brand-blue"}`,title:`Selecionar tipo: ${t}`,children:t==="correction"?"Correção":t==="supplementary_link"?"Link Extra":"Insight"},t))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Trecho de Referência (Opcional)"}),e.jsx("input",{type:"text",placeholder:"Ex: No segundo parágrafo sobre...",value:X,onChange:t=>Y(t.target.value),className:"w-full px-5 py-3.5 bg-slate-50 dark:bg-slate-800 border-none rounded-xl outline-none focus:ring-2 focus:ring-brand-blue/30 dark:text-white transition-all text-sm font-serif"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Conteúdo da Nota"}),e.jsx("textarea",{required:!0,placeholder:"Descreva a sua sugestão ou forneça o link complementar...",value:A,onChange:t=>V(t.target.value),className:"w-full px-5 py-3.5 bg-slate-50 dark:bg-slate-800 border-none rounded-xl outline-none focus:ring-2 focus:ring-brand-blue/30 dark:text-white transition-all h-32 resize-none text-sm font-serif"})]}),e.jsxs("button",{type:"submit",disabled:J,className:"w-full flex items-center justify-center gap-2.5 py-4 bg-brand-blue text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-brand-dark transition-all shadow-lg shadow-blue-500/20 disabled:opacity-50",children:[J?e.jsx(S,{size:16,className:"animate-spin"}):e.jsx(G,{size:16}),"Submeter para Revisão"]})]})}),e.jsx("div",{className:"px-8 py-4 bg-slate-50 dark:bg-slate-800/30 text-center border-t border-slate-100 dark:border-slate-800",children:e.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest flex items-center justify-center gap-2",children:[e.jsx(qe,{size:12})," Apenas contribuições académicas serão aceites"]})})]})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Manuscrito não encontrado."})};export{ot as default};
